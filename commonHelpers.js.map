{"version":3,"file":"commonHelpers.js","sources":["../src/js/01-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst startBtn = document.querySelector('button[data-start]');\nconst selectedDates = document.querySelector('input#datetime-picker');\n// const clockface = document.querySelector('.js-clockface');\n\nclass Timer {\n  constructor(tick) {\n    this.intervalId = null;\n    this.tick = tick;\n  }\n\n  start() {\n    const init = Date.now();\n\n    this.intervalId = setInterval(() => {\n      const diff = init - Date.now();\n      const time = this.msToTime(diff);\n      this.tick(time);\n    }, 1000);\n  }\n\n  stop() {\n    clearInterval(this.intervalId);\n  }\n\n  msToTime(s) {\n    var ms = s % 1000;\n    s = (s - ms) / 1000;\n    var secs = s % 60;\n    s = (s - secs) / 60;\n    var mins = s % 60;\n    var hrs = (s - mins) / 60;\n\n    return { hrs, mins, secs };\n  }\n}\n\nconst timer = new Timer(onTick);\n\nstartBtn.addEventListener('click', () => {\n  timer.start();\n  flatpickr(selectedDates, options)\n  const options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      console.log(selectedDates[0]);\n    },\n  };\n});\n\nstopBtn.addEventListener('click', () => {\n  timer.stop();\n});\n\nfunction onTick(time) {\n  const str = formatTime(time);\n  clockface.textContent = str;\n}\n\nfunction formatTime({ hrs, mins, secs }) {\n  hrs = hrs.toString().padStart(2, '0');\n  mins = mins.toString().padStart(2, '0');\n  secs = secs.toString().padStart(2, '0');\n\n  return `${hrs}:${mins}:${secs}`;\n}\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n  \n  console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n  console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n  console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\n  flatpickr(selector, options)"],"names":["startBtn","selectedDates","Timer","tick","init","diff","time","s","ms","secs","mins","hrs","timer","onTick","flatpickr","options","str","formatTime","convertMs","days","hours","minutes","seconds"],"mappings":"oGAKA,MAAMA,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAgB,SAAS,cAAc,uBAAuB,EAGpE,MAAMC,CAAM,CACV,YAAYC,EAAM,CAChB,KAAK,WAAa,KAClB,KAAK,KAAOA,CACb,CAED,OAAQ,CACN,MAAMC,EAAO,KAAK,MAElB,KAAK,WAAa,YAAY,IAAM,CAClC,MAAMC,EAAOD,EAAO,KAAK,IAAG,EACtBE,EAAO,KAAK,SAASD,CAAI,EAC/B,KAAK,KAAKC,CAAI,CACf,EAAE,GAAI,CACR,CAED,MAAO,CACL,cAAc,KAAK,UAAU,CAC9B,CAED,SAASC,EAAG,CACV,IAAIC,EAAKD,EAAI,IACbA,GAAKA,EAAIC,GAAM,IACf,IAAIC,EAAOF,EAAI,GACfA,GAAKA,EAAIE,GAAQ,GACjB,IAAIC,EAAOH,EAAI,GACXI,GAAOJ,EAAIG,GAAQ,GAEvB,MAAO,CAAE,IAAAC,EAAK,KAAAD,EAAM,KAAAD,EACrB,CACH,CAEA,MAAMG,EAAQ,IAAIV,EAAMW,CAAM,EAE9Bb,EAAS,iBAAiB,QAAS,IAAM,CACvCY,EAAM,MAAK,EACXE,EAAUb,EAAec,CAAO,EAChC,MAAMA,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQd,EAAe,CACrB,QAAQ,IAAIA,EAAc,EAAE,CAC7B,CACL,CACA,CAAC,EAED,QAAQ,iBAAiB,QAAS,IAAM,CACtCW,EAAM,KAAI,CACZ,CAAC,EAED,SAASC,EAAOP,EAAM,CACpB,MAAMU,EAAMC,EAAWX,CAAI,EAC3B,UAAU,YAAcU,CAC1B,CAEA,SAASC,EAAW,CAAE,IAAAN,EAAK,KAAAD,EAAM,KAAAD,CAAI,EAAI,CACvC,OAAAE,EAAMA,EAAI,SAAQ,EAAG,SAAS,EAAG,GAAG,EACpCD,EAAOA,EAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EACtCD,EAAOA,EAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EAE/B,GAAGE,KAAOD,KAAQD,GAC3B,CACA,SAASS,EAAUV,EAAI,CAQnB,MAAMW,EAAO,KAAK,MAAMX,EAAK,KAAG,EAE1BY,EAAQ,KAAK,MAAOZ,EAAK,MAAO,IAAI,EAEpCa,EAAU,KAAK,MAAQb,EAAK,MAAO,KAAQ,GAAM,EAEjDc,EAAU,KAAK,MAASd,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAW,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,QAAQ,IAAIJ,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC,EAE/BJ,EAAU,SAAU,OAAO"}